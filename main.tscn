[gd_scene load_steps=18 format=3 uid="uid://cer8b10oqnj4c"]

[ext_resource type="Script" path="res://World/Dungeon.cs" id="2_1vt41"]
[ext_resource type="PackedScene" uid="uid://d1x8flk7k22lf" path="res://Characters/Views/character.tscn" id="2_xixih"]
[ext_resource type="Script" path="res://World/Generation/MapGenerationSettings.cs" id="4_2xch6"]
[ext_resource type="PackedScene" uid="uid://baulbjohpoutt" path="res://World/Doors/DoorNorth.tscn" id="6_j0b2k"]
[ext_resource type="PackedScene" uid="uid://d0og08uwdxfmk" path="res://World/Doors/DoorEast.tscn" id="7_q37xp"]
[ext_resource type="PackedScene" uid="uid://dfl8ae68p5if6" path="res://World/Doors/DoorWest.tscn" id="8_nqvnw"]
[ext_resource type="PackedScene" uid="uid://drk6d0kw3ange" path="res://World/Doors/DoorSouth.tscn" id="9_xd7nw"]
[ext_resource type="PackedScene" uid="uid://yh61tvf86nvk" path="res://Items/item.tscn" id="10_401to"]
[ext_resource type="Script" path="res://UI/ItemManager.cs" id="11_g6mct"]
[ext_resource type="PackedScene" uid="uid://d1ecg172tn7g0" path="res://UI/Item.tscn" id="11_y6dqc"]
[ext_resource type="Script" path="res://Characters/CharacterModelFactory.cs" id="12_7vo3u"]
[ext_resource type="AudioStream" uid="uid://be8yrgimldono" path="res://Assets/Sound/Minifantasy_Dungeon_Music/Music/Goblins_Den_(Regular).wav" id="14_d1k0d"]

[sub_resource type="Resource" id="Resource_hwssd"]
script = ExtResource("12_7vo3u")
_speed = 80.0
_health = 100.0
_damageMin = 10.0
_damageMax = 30.0
_hitChance = 0.8
_blockChance = 0.3
_items = []
_visual = "Skeleton"
_weapon = "Bow"

[sub_resource type="Resource" id="Resource_j3od2"]
script = ExtResource("12_7vo3u")
_speed = 80.0
_health = 100.0
_damageMin = 10.0
_damageMax = 30.0
_hitChance = 0.8
_blockChance = 0.3
_items = []
_visual = "Orc"
_weapon = "Sword"

[sub_resource type="Resource" id="Resource_2hiqp"]
script = ExtResource("12_7vo3u")
_speed = 80.0
_health = 100.0
_damageMin = 10.0
_damageMax = 30.0
_hitChance = 0.8
_blockChance = 0.3
_items = []
_visual = "Ghost"
_weapon = "Wand"

[sub_resource type="Resource" id="Resource_i7v72"]
script = ExtResource("4_2xch6")
NumberOfRooms = 20
CharacterScene = ExtResource("2_xixih")
Enemies = Array[Object]([SubResource("Resource_hwssd"), SubResource("Resource_j3od2"), SubResource("Resource_2hiqp")])
ItemObjectScene = ExtResource("10_401to")

[sub_resource type="Resource" id="Resource_jvr45"]
script = ExtResource("12_7vo3u")
_speed = 150.0
_health = 10000.0
_damageMin = 40.0
_damageMax = 80.0
_hitChance = 0.8
_blockChance = 0.3
_items = []
_visual = "Wizard"
_weapon = "Wand"

[node name="Main" type="Node2D"]
y_sort_enabled = true
texture_filter = 1

[node name="Dungeon" type="Node2D" parent="."]
position = Vector2(104, 264)
script = ExtResource("2_1vt41")
_mapGenerationSettings = SubResource("Resource_i7v72")
_eastDoorScene = ExtResource("7_q37xp")
_northDoorScene = ExtResource("6_j0b2k")
_southDoorScene = ExtResource("9_xd7nw")
_westDoorScene = ExtResource("8_nqvnw")

[node name="Character" parent="Dungeon" instance=ExtResource("2_xixih")]
ModelFactory = SubResource("Resource_jvr45")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("14_d1k0d")
autoplay = true

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(320, 180)

[node name="UI" type="CanvasLayer" parent="."]

[node name="ItemContainer" type="HBoxContainer" parent="UI"]
custom_minimum_size = Vector2(2.08165e-12, 24)
anchors_preset = 10
anchor_right = 1.0
offset_left = 16.0
offset_top = 16.0
offset_right = -16.0
offset_bottom = 40.0
grow_horizontal = 2
script = ExtResource("11_g6mct")
_itemUIScene = ExtResource("11_y6dqc")

[node name="Item" parent="UI/ItemContainer" instance=ExtResource("11_y6dqc")]
layout_mode = 2

[node name="Item2" parent="UI/ItemContainer" instance=ExtResource("11_y6dqc")]
layout_mode = 2

[node name="Item3" parent="UI/ItemContainer" instance=ExtResource("11_y6dqc")]
layout_mode = 2
