[gd_scene load_steps=8 format=3 uid="uid://d17hmxwin40w8"]

[ext_resource type="Script" path="res://World/ExitRoom.cs" id="1_3r0fd"]
[ext_resource type="PackedScene" uid="uid://dykheh1kv5wid" path="res://World/Base/base1.tscn" id="1_qusy6"]
[ext_resource type="TileSet" uid="uid://bw54j14xipib3" path="res://World/room_tileset.tres" id="2_u7def"]
[ext_resource type="Script" path="res://World/Rooms/Exit/Support/Exit.cs" id="4_h3fyy"]
[ext_resource type="PackedScene" uid="uid://chrq7n4e1dibt" path="res://World/Rooms/Exit/Support/exit_door.tscn" id="4_m7yj4"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_ljwh1"]
vertices = PackedVector2Array(150, 74, 202, 74, 346, 158, 278, 158, 90, 138, 90, 94, 614, 58, 614, 342, 538, 250, 538, 198, 438, 250, 410, 342, 410, 302, 490, 58, 490, 74, 346, 202, 374, 302, 218, 250, 278, 202, 438, 74, 438, 198, 218, 198, 202, 58, 438, 58, 186, 198, 186, 182, 150, 182, 150, 198, 118, 198, 38, 138, 374, 318, 358, 318, 358, 326, 342, 326, 118, 250, 342, 342, 90, 342, 90, 326, 86, 326, 86, 322, 58, 322, 58, 326, 54, 326, 54, 322, 26, 322, 26, 58, 150, 58, 38, 94)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5), PackedInt32Array(6, 7, 8, 9), PackedInt32Array(10, 8, 7, 11, 12), PackedInt32Array(13, 6, 9, 14), PackedInt32Array(15, 10, 12, 16, 17, 18), PackedInt32Array(19, 14, 9, 20, 2), PackedInt32Array(15, 2, 20, 10), PackedInt32Array(18, 17, 21, 3), PackedInt32Array(1, 22, 23, 19, 2), PackedInt32Array(21, 24, 25, 3), PackedInt32Array(4, 26, 27, 28, 29), PackedInt32Array(16, 30, 31, 17), PackedInt32Array(31, 32, 33, 17), PackedInt32Array(34, 17, 33, 35, 36, 37), PackedInt32Array(37, 38, 39, 34), PackedInt32Array(40, 41, 42, 43), PackedInt32Array(43, 44, 45), PackedInt32Array(45, 46, 0, 5, 47), PackedInt32Array(40, 43, 45, 29), PackedInt32Array(34, 39, 40, 29, 28), PackedInt32Array(4, 3, 25, 26), PackedInt32Array(45, 47, 29)])
outlines = Array[PackedVector2Array]([PackedVector2Array(16, 48, 624, 48, 624, 352, 16, 352)])
source_geometry_group_name = &"navigation_polygon_source_group"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ntcc7"]
size = Vector2(32, 32)

[node name="ExitRoom" type="NavigationRegion2D" node_paths=PackedStringArray("_exit")]
navigation_polygon = SubResource("NavigationPolygon_ljwh1")
script = ExtResource("1_3r0fd")
_exit = NodePath("Exit")

[node name="Base1" parent="." instance=ExtResource("1_qusy6")]

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource("2_u7def")
format = 2
layer_0/name = "Base"
layer_0/tile_data = PackedInt32Array(1376278, 131073, 1, 1310743, 65537, 0, 1376279, 65537, 1, 1310744, 65537, 1, 1376280, 65537, 1, 1245208, 65537, 0, 1114150, 851968, 2, 65546, 655361, 2, 131082, 655361, 3, 196618, 655361, 4, 65547, 720897, 2, 131083, 720897, 3, 196619, 720897, 4, 65564, 655361, 2, 131100, 655361, 3, 196636, 655361, 4, 65565, 720897, 2, 131101, 720897, 3, 196637, 720897, 4, 1376257, 393217, 15, 1310722, 458753, 14, 1376258, 458753, 15, 1376259, 524289, 15, 1310724, 589825, 14, 1376260, 589825, 15, 393219, 65537, 2, 458755, 65537, 3, 393220, 65537, 2, 458756, 65537, 3, 1179655, 786432, 0, 1245191, 720896, 1, 1310727, 720896, 1, 1376263, 655360, 3, 1245192, 720896, 1, 1310728, 720896, 2, 1376264, 720896, 3, 1310729, 786432, 2, 1376265, 786432, 3, 1310730, 851968, 2, 1376266, 851968, 3, 983075, 655360, 0, 1048611, 655360, 1, 1114147, 655360, 2, 1179683, 655360, 3, 983076, 720896, 0, 1048612, 720896, 1, 1114148, 720896, 2, 1179684, 720896, 3, 983077, 786432, 0, 1048613, 786432, 1, 1114149, 786432, 2, 1179685, 786432, 3, 983078, 851968, 0, 1048614, 851968, 1, 1179686, 851968, 3, 1376282, 458753, 9, 1179672, 393217, 10, 1310741, 458753, 10, 1245186, 458753, 9, 1376261, 458753, 10, 262170, 720896, 1, 196633, 655360, 0, 262169, 720896, 1, 327705, 655360, 0, 327706, 720896, 3, 327707, 851968, 1, 262171, 851968, 1, 196635, 786432, 0, 196634, 786432, 0, 1310726, 655360, 2, 1245190, 655360, 1, 1376262, 655360, 3, 1179654, 786432, 0, 1245193, 786432, 1, 1179656, 786432, 0, 1179657, 720896, 0, 1245194, 851968, 1, 65550, 655361, 0, 131086, 655361, 1, 65561, 655361, 0, 131097, 655361, 1)
layer_1/name = "TableDecoration"
layer_1/tile_data = PackedInt32Array(131102, 458753, 14, 196638, 458753, 15)

[node name="Exit" type="Node2D" parent="." node_paths=PackedStringArray("_doors", "_exitArea")]
position = Vector2(320, 192)
script = ExtResource("4_h3fyy")
_doors = [NodePath("Door1"), NodePath("Door2"), NodePath("Door3"), NodePath("Door4")]
_exitArea = NodePath("ExitArea")

[node name="TileMap" type="TileMap" parent="Exit"]
tile_set = ExtResource("2_u7def")
format = 2
layer_0/name = "Walls"
layer_0/tile_data = PackedInt32Array(-196620, 0, 3, -196619, 65536, 3, -196618, 65536, 3, -196617, 65536, 3, -196616, 65536, 3, -131084, 0, 4, -65548, 0, 1, -12, 0, 2, -131083, 65536, 0, -65547, 65536, 1, -11, 65536, 2, -131082, 65536, 0, -65546, 65536, 1, -10, 65536, 2, -131081, 65536, 0, -65545, 65536, 1, -9, 65536, 2, -131080, 65536, 0, -65544, 65536, 1, -8, 65536, 2, 262132, 0, 3, 327668, 0, 4, 393204, 0, 1, 458740, 0, 2, 327669, 65536, 0, 393205, 65536, 1, 458741, 65536, 2, 327670, 65536, 0, 393206, 65536, 1, 458742, 65536, 2, 327671, 65536, 0, 393207, 65536, 1, 458743, 65536, 2, 327672, 65536, 0, 393208, 65536, 1, 458744, 65536, 2, 327673, 65536, 0, 393209, 65536, 1, 458745, 65536, 2, 327674, 65536, 0, 393210, 65536, 1, 458746, 65536, 2, 327675, 65536, 0, 393211, 65536, 1, 458747, 65536, 2, 327676, 65536, 0, 393212, 65536, 1, 458748, 65536, 2, 327679, 65536, 0, 393215, 65536, 1, 458751, 65536, 2, 327678, 65536, 0, 393214, 65536, 1, 458750, 65536, 2, 327677, 65536, 0, 393213, 65536, 1, 458749, 65536, 2, 262133, 65536, 3, 262134, 65536, 3, 262135, 65536, 3, 262136, 65536, 3, 262137, 65536, 3, 262138, 65536, 3, 262139, 65536, 3, 262140, 65536, 3, 262141, 65536, 3, 262142, 65536, 3, 262143, 65536, 3, -131079, 65536, 0, -65543, 65536, 1, -7, 65536, 2, -131078, 65536, 0, -65542, 65536, 1, -6, 65536, 2, -131077, 65536, 0, -65541, 65536, 1, -5, 65536, 2, -131076, 65536, 0, -65540, 65536, 1, -4, 65536, 2, -131075, 65536, 0, -65539, 65536, 1, -3, 65536, 2, -131074, 65536, 0, -65538, 65536, 1, -2, 65536, 2, -131073, 65536, 0, -65537, 65536, 1, -1, 65536, 2, -196615, 65536, 3, -196614, 65536, 3, -196613, 65536, 3, -196612, 65536, 3, -196611, 65536, 3, -196610, 65536, 3, -196609, 65536, 3, -262133, 131072, 3, -262144, 65536, 3, -262143, 65536, 3, -262142, 65536, 3, -262141, 65536, 3, -262140, 65536, 3, -262139, 65536, 3, -262138, 65536, 3, -262137, 65536, 3, -262136, 65536, 3, -262135, 65536, 3, -262134, 65536, 3, -196597, 196608, 5, -131061, 196608, 5, -65525, 196608, 5, 11, 196608, 5, 65547, 196608, 5, 131083, 196608, 5, 196608, 65536, 3, 196609, 65536, 3, 196610, 65536, 3, 196611, 65536, 3, 196612, 65536, 3, 196613, 65536, 3, 196614, 65536, 3, 196615, 65536, 3, 196616, 65536, 3, 196617, 65536, 3, -196598, 262144, 4, -196608, 65536, 0, -131072, 65536, 1, -65536, 65536, 2, -196607, 65536, 0, -131071, 65536, 1, -65535, 65536, 2, -196606, 65536, 0, -131070, 65536, 1, -65534, 65536, 2, -196605, 65536, 0, -131069, 65536, 1, -65533, 65536, 2, -196604, 65536, 0, -131068, 65536, 1, -65532, 65536, 2, -196603, 65536, 0, -131067, 65536, 1, -65531, 65536, 2, -196602, 0, 10, -131066, 0, 11, -65530, 0, 12, -196601, 65536, 10, -131065, 65536, 11, -65529, 65536, 12, -196600, 65536, 0, -131064, 65536, 1, -65528, 65536, 2, -196599, 0, 0, -131063, 131072, 1, -65527, 131072, 2, -131062, 262144, 5, -65526, 262144, 5, 10, 262144, 5, 65546, 262144, 5, 131082, 262144, 5, 196618, 262144, 6, 262144, 65536, 0, 327680, 65536, 1, 393216, 65536, 2, 262145, 65536, 0, 327681, 65536, 1, 393217, 65536, 2, 262146, 65536, 0, 327682, 65536, 1, 393218, 65536, 2, 262147, 65536, 0, 327683, 65536, 1, 393219, 65536, 2, 262148, 65536, 0, 327684, 65536, 1, 393220, 65536, 2, 262149, 65536, 0, 327685, 65536, 1, 393221, 65536, 2, 262150, 65536, 0, 327686, 65536, 1, 393222, 65536, 2, 262151, 65536, 0, 327687, 65536, 1, 393223, 65536, 2, 262152, 65536, 0, 327688, 65536, 1, 393224, 65536, 2, 262153, 65536, 0, 327689, 65536, 1, 393225, 65536, 2, 262154, 65536, 0, 327690, 65536, 1, 393226, 65536, 2, 262155, 131072, 4, 327691, 131072, 1, 393227, 131072, 2, 196619, 196608, 5)
layer_1/name = "Spikes"
layer_1/tile_data = PackedInt32Array()

[node name="Door1" parent="Exit" instance=ExtResource("4_m7yj4")]
position = Vector2(-176, 48)

[node name="Door2" parent="Exit" instance=ExtResource("4_m7yj4")]
position = Vector2(-144, 48)

[node name="Door3" parent="Exit" instance=ExtResource("4_m7yj4")]
position = Vector2(-112, 48)

[node name="Door4" parent="Exit" instance=ExtResource("4_m7yj4")]
position = Vector2(-80, 48)

[node name="ExitArea" type="Area2D" parent="Exit"]
position = Vector2(-416, -88)
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Exit/ExitArea"]
position = Vector2(528, 96)
shape = SubResource("RectangleShape2D_ntcc7")
